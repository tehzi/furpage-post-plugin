version: "3.9"

services: 
    mongo:
        restart: unless-stopped
        image: mongo
        environment: 
            MONGO_INITDB_ROOT_USERNAME: admin
            MONGO_INITDB_ROOT_PASSWORD: password
            
    app:
        image: node:lts-alpine3.13
        command: npm run start:debug
        restart: unless-stopped
        ports: 
            - 3003:3000
            - 9229:9229
        volumes: 
            - "./packages/nestjs-backend:/app"
        environment: 
            NODE_ENV: development
            HOST: 0.0.0.0
        working_dir: /app
        depends_on: 
            - mongo